!function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;o.push([43,1]),n()}({12:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(84);var r=n(45);function a(e){if(!e.ok)return Promise.reject(function(e){r.default();var t=e.statusText;e.status;if("application/json"===e.headers.get("content-type"))return e.json().then(function(e){return e},function(){return Promise.reject({message:"invalid json"})});return{message:t}}(e));switch(e.headers.get("content-type")){case"application/json":return e.json().then(function(e){return e},function(){return Promise.reject({message:"invalid json"})});case"application/pdf":return e.blob()}}t.server="/api/",t.rawGet=function(e,n,r){var o=encodeURIComponent,i=Object.keys(n).map(function(e){return o(e)+"="+o(n[e])}).join("&"),s=""!==i?"?"+i:"";return function(e,t){var n={method:t||void 0,body:void 0};return fetch(e,n).then(function(e){return e},function(){return new Response("",{status:599,statusText:"Connection Error"})})}(t.server+e+s,"get").then(function(e){return a(e)})},t.handleResponse=a,t.getRoute=function(e,n){return{type:e,promise:t.rawGet(e,n),meta:{parameters:n}}}},143:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(24);n(18);var s=n(14),c=n(32),l=[{Header:"Company Legalname",accessor:"legalname"},{Header:"LEI",accessor:"LEI"},{Header:"Ultimate Parent LEI",accessor:"ultiParentLEI"},{Header:"ISIN",accessor:"ISIN"},{Header:"Number of all related Engagements",accessor:"details"}],u=(o.createElement("button",null,"Details"),o.createElement("button",null,"Details"),o.createElement("button",null,"Details"),o.createElement("button",null,"Details"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.countEngagement=function(e){return this.props.engagement.filter(function(t){return t[9]==e}).length},t.prototype.createCompanies=function(e){for(var t=[],n=0;n<e.length;n++){var r=this.countEngagement(e[n][5]);t.push({LEI:e[n][0],ISIN:e[n][1],legalname:e[n][2],details:r,ultiParentLEI:e[n][5]})}return t},t.prototype.render=function(){var e=this.props.portfolio&&this.createCompanies(this.props.portfolio);return o.createElement("div",null,o.createElement("div",null,o.createElement(i.default,{data:e,columns:l,filterable:!0,defaultFilterMethod:c.filterCaseInsensitive,defaultSorted:[{id:"details",desc:!0}]})))},t}(o.Component));t.DisplayMyCompanies=u;t.DisplayMyCompaniesCl=s.connect(function(e){return{portfolio:e.demoReducer.urth_portfolio,engagement:e.demoReducer.engagement}},function(e,t){return{}})(u)},148:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loginAction=function(e){return function(t,n){"LoginSuccess"===e.status?(localStorage.setItem("LoggedIn","true"),localStorage.setItem("token",e.token),t({type:"LOGIN_SUCCESS",loginInfo:e})):t({type:"LOGIN_FAIL",loginInfo:e})}},t.logoutAction=function(){return function(e,t){localStorage.removeItem("username"),localStorage.removeItem("password"),localStorage.removeItem("token"),localStorage.removeItem("userStatus"),localStorage.setItem("LoggedIn","false"),window.location.reload(),e({type:"LOGOUT",logoutStatus:"LoggedOut"})}}},149:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),a=n(12);t.fetchGetPostData=function(e,t,n,o){var i=a.server+e,s={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify({user_id:o})};fetch(i,s).then(function(e){return e.text()}).then(function(e){var n=JSON.parse(e);void 0!==n.length?r.store.dispatch({type:t,data:n}):console.log(e)}).catch(function(e){console.error(e)})},t.fetchGetData=function(e,t,n){var o=a.server+e;fetch(o,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+n}}).then(function(e){return e.text()}).then(function(e){var n=JSON.parse(e);void 0!==n.length?r.store.dispatch({type:t,data:n}):console.log(e)}).catch(function(e){console.error(e)})}},30:function(e,t,n){var r=n(86);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(21)(r,a);r.locals&&(e.exports=r.locals)},31:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.engagementAction=function(e){return function(t,n){t({type:"SUBMIT_ENGAGEMENT_MESSAGE",data:e})}},t.newEngagementAction=function(e){return function(t,n){t({type:"UPDATE_ENGAGEMENT_DATA",data:e})}},t.engagementStatusAction=function(e){return function(t,n){t({type:"NEW_ENGAGEMENT_STATUS",data:e})}}},32:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterCaseInsensitive=function(e,t){var n=e.pivotId||e.id;return null!==t[n]&&"string"==typeof t[n]?void 0===t[n]||String(t[n].toLowerCase()).startsWith(e.value.toLowerCase()):String(t[e.id])===e.value}},43:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(15),o=n(14),i=n(68),s=n(45),c=n(153),l=n(152),u=n(83),d=n(12),p=n(85),m=n(154);t.store=s.default();var g=l.createBrowserHistory();a.render(r.createElement(o.Provider,{store:t.store},r.createElement(c.Router,{history:g},r.createElement(i.App,null,r.createElement(c.Switch,null,r.createElement(m.BrowserRouter,null,r.createElement("div",null,r.createElement(c.Route,{exact:!0,path:"/",component:u.withRouteOnEnter(function(e){t.store.dispatch(d.getRoute("helloWorld",{}))})(function(){return r.createElement(p.Hello_prod,{framework:"React",compiler:"Typescript"})})}))))))),document.getElementById("root"))},45:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),a=n(46),o=n(75),i=n(76),s=n(77),c=n(80),l=n(81),u=r.combineReducers({helloWorld:s.routeReducerSimple("helloWorld"),echo:s.routeMapReducer("echo",function(e){return e.arg}),authReducer:l.authReducer,newRequestReducer:c.newRequestReducer,requestListReducer:c.requestListReducer,getDataReducer:c.getDataReducer,kpxDataReducer:c.kpxDataReducer,leiConnectionTreeReducer:c.leiConnectionTreeReducer,demoReducer:c.demoReducer}),d=(r.combineReducers({}),o.composeWithDevTools),p=[i.default,a.middleware];t.default=function(){return r.createStore(u,{},d(r.applyMiddleware.apply(void 0,p)))}},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.init=function(){return new a},e.pending=function(){return new o},e.success=function(e){return new i(e)},e.failure=function(e){return new s(e)},e.of=function(t){return e.success(t)},e.caseOf=function(e,t,n,r){return function(a){return a.caseOf(e,t,n,r)}},e}();t.AV=r;var a=function(){return function e(){this.state="init",this.map=function(t){return new e},this.lmap=function(t){return new e},this.rmap=this.map,this.bimap=function(t,n){return new e},this.ap=function(t){return new e},this.chain=function(t){return new e},this.extend=function(t){return new e},this.caseOf=function(e,t,n,r){return e()}}}(),o=function(){return function e(){this.state="pending",this.map=function(t){return new e},this.lmap=function(t){return new e},this.rmap=this.map,this.bimap=function(t,n){return new e},this.ap=function(t){return new e},this.chain=function(t){return new e},this.extend=function(t){return new e},this.caseOf=function(e,t,n,r){return t()}}}(),i=function(){return function e(t){var n=this;this.state="success",this.map=function(t){return new e(t(n.value))},this.lmap=function(t){return new e(n.value)},this.rmap=this.map,this.bimap=function(t,r){return new e(r(n.value))},this.ap=function(e){return e.map(function(e){return e(n.value)})},this.chain=function(e){return e(n.value)},this.extend=function(t){return new e(t(n))},this.caseOf=function(e,t,r,a){return r(n.value)},this.value=t}}(),s=function(){return function e(t){var n=this;this.state="failure",this.map=function(t){return new e(n.error)},this.lmap=function(t){return new e(t(n.error))},this.rmap=this.map,this.bimap=function(t,r){return new e(t(n.error))},this.ap=function(t){return new e(n.error)},this.chain=function(t){return new e(n.error)},this.extend=function(t){return new e(n.error)},this.caseOf=function(e,t,r,a){return a(n.error)},this.error=t}}()},68:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.App=function(e){return r.createElement("div",null,e.children)}},77:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(46),a=n(78),o=n(49),i=n(79);t.simplePackHandlers=function(e){return{start:a.onStart(e),success:a.onSuccess(e),failure:a.onFailure(e)}},t.routeReducerSimple=function(e){return function(n,a){return void 0===n&&(n=o.AV.init()),a.type!==e?n:r.handle(n,a,t.simplePackHandlers(a.payload))}},t.routeMapReducer=function(e,t){return function(n,o){var s=o.type,c=o.payload,l=o.meta;if(void 0===n)return i.Map();if(s!==e)return n;var u={start:function(e){return e.update(t(l.parameters),a.onStart(c))},success:function(e){return e.update(t(l.parameters),a.onSuccess(c))},failure:function(e){return e.update(t(l.parameters),a.onFailure(c))}};return r.handle(n,o,u)}}},78:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(49);t.onStart=function(e){return function(e){return r.AV.pending()}},t.onSuccess=function(e){return function(t){return r.AV.success(e)}},t.onFailure=function(e){return function(t){return r.AV.failure(e)}}},80:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a={rows:[]};t.requestListReducer=function(e,t){switch(void 0===e&&(e=[]),t.type){case"VIEW_REQUESTLIST":return r({},e,{rows:t.data});default:return e}},t.newRequestReducer=function(e,t){switch(void 0===e&&(e=a),t.type){case"CREATE_REQUEST":return r({},e,{rows:e.rows.concat([t.requestInfo])});default:return e}},t.leiConnectionTreeReducer=function(e,t){switch(void 0===e&&(e=a),t.type){case"LEI_CONNECTION_TREE":return r({},e,{kpxConnectionTree:t.data});case"NEW_LEI_CONNECTION_TREE":return r({},e,{newConnectionTree:t.data});default:return e}},t.getDataReducer=function(e,t){switch(void 0===e&&(e=[]),t.type){case"LIST_OWNER":return r({},e,{mnger:t.data});case"LIST_OVERLAP":return r({},e,{overlapList:t.data});case"LIST_PORTFOLIO_ID":return r({},e,{portfolioIdList:t.data});case"LIST_SUM_STOCK_PER_OWNER":return r({},e,{sumStockPerOwner:t.data});case"LIST_RANK_COUNTRY":return r({},e,{rankCountry:t.data});case"LIST_RANK_SECTOR":return r({},e,{rankSector:t.data});case"LIST_2PORTFOLIOS":return r({},e,{list2portfolios:t.data});case"LIST_REQUEST_OVERLAP":return r({},e,{listRequestOverlap:t.data});case"LIST_FULL_PORTFOLIO":return r({},e,{listPortfolio:t.data});case"LIST_CONNECT_MESSAGE":return r({},e,{listConnectMessage:t.data});case"LIST_LEI_RELATIONSHIP":return r({},e,{leiRelationship:t.data});case"LIST_LEI_LEGALNAME":return r({},e,{leiLegalName:t.data});default:return e}},t.kpxDataReducer=function(e,t){switch(void 0===e&&(e=[]),t.type){case"KPX_DATA":return r({},e,{kpxData:t.data});case"KPX_OVERLAP":return r({},e,{kpxOverlap:t.data});case"KPX_Portfolio_id":return r({},e,{kpxPortfolioid:t.data});case"KPX_2Portfolio":return r({},e,{kpx2Portfolio:t.data});case"KPX_RANK_COUNTRY":return r({},e,{kpxRankCountry:t.data});case"KPX_RANK_Sector":return r({},e,{kpxRankSector:t.data});case"KPX_RANK_Industry":return r({},e,{kpxRankIndustry:t.data});case"KPX_LIST_PORTFOLIO":return r({},e,{kpxListPortfolio:t.data});case"KPX_REQUEST":return r({},e,{kpxRequest:t.data});case"KPX_RANK_RATING":return r({},e,{kpxRankRating:t.data});case"KPX_LEI_RELATIONSHIP":return r({},e,{kpxLEIRelationship:t.data});case"KPX_LEI_LEGALNAME":return r({},e,{kpxLEILegalName:t.data});case"KPX_ULTIMATE_PARENT":return r({},e,{kpxUltimateParent:t.data});case"TRANSPARENCY":return r({},e,{transparencyData:t.data});case"KPX_TRANSPARENCY_DATA":return r({},e,{KpxTransparencyData:t.data});case"KPX_LIST_REQUEST_OVERLAP":return r({},e,{kpxListRequestOverlap:t.data});case"KPX_TRANSPARENCY_RATING_DATA":return r({},e,{kpxTransparencyRating:t.data});case"SVL_REAL_IMPACT_GHG":return r({},e,{svlRealImpact:t.data});default:return e}},t.demoReducer=function(e,t){switch(void 0===e&&(e={wanttobuy_data:[],engagement_detail:[],engagementStatus:[]}),t.type){case"URTH_LEI_RELATIONSHIP":return r({},e,{urth_lei_relationship:t.data});case"URTH_PORTFOLIO":return r({},e,{urth_portfolio:t.data});case"FUNDS":return r({},e,{funds_data:t.data});case"WANTTOBUY":return r({},e,{wanttobuy_data:t.data});case"SUBMIT_WANTTOBUY":return r({},e,{wanttobuy_data:e.wanttobuy_data.concat([t.submitWantToBuy])});case"ENGAGEMENT":return r({},e,{engagement:t.data});case"ENGAGEMENT_DETAIL":return r({},e,{engagement_detail:t.data});case"SUBMIT_ENGAGEMENT_MESSAGE":return r({},e,{engagement_detail:e.engagement_detail.concat([t.data])});case"UPDATE_ENGAGEMENT_DATA":return r({},e,{engagement:t.data});case"NEW_ENGAGEMENT_STATUS":return r({},e,{engagementStatus:[t.data].concat(e.engagementStatus)});case"ENGAGEMENT_STATUS":return r({},e,{engagementStatus:t.data});case"ASSET_MNGERS":return r({},e,{assetMngers:t.data});case"ENGAGEMENT_MNGER_PERMISSION":return r({},e,{engagementMngerPermission:t.data});default:return e}}},81:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a={username:null,status:null,token:null};t.authReducer=function(e,t){switch(void 0===e&&(e=a),t.type){case"LOGIN_SUCCESS":return{username:t.loginInfo.username,status:t.loginInfo.status,token:t.loginInfo.token,userid:t.loginInfo.userid,email:t.loginInfo.email};case"LOGIN_FAIL":return{username:t.loginInfo.username,status:t.loginInfo.status,token:t.loginInfo.token,userid:t.loginInfo.userid};case"LOGOUT":return r({},e,{username:null,token:null,status:"LoggedOut"});default:return e}}},83:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.withRouteOnEnter=function(e){return function(t){return function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return a(r,n),r.prototype.componentWillMount=function(){var t;t=this.props,e&&"function"==typeof e&&e(t)},r.prototype.render=function(){return i.createElement(t,o({},this.props))},r}(i.Component)}}},85:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});this&&this.__assign;Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(14),s=n(12);n(30);var c=n(56),l=n(24);n(18);var u=n(89),d=n(144),p=n(28),m=n(147);p.library.add(m.faCircle,m.faInfoCircle,m.faUser,m.faUserCircle),Object.assign(l.ReactTableDefaults,{defaultPageSize:5,showPageSizeOptions:!0,pageSizeOptions:[5,10,20,25,50,100],minRows:0});var g=n(148),h=n(149),f=n(12),b=function(e){function t(t){var n=e.call(this,t)||this;return n.handleChange=function(e){var t;e.target.name;n.setState(((t={})[e.target.id]=e.target.value,t))},n.handleLogin=function(e){e.preventDefault(),n.setState({submitted:!0});var t=f.server+"login",r={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:n.state.username,password:n.state.password})};fetch(t,r).then(function(e){return e.text()}).then(function(e){var t=JSON.parse(e);n.setState({status:t.status,token:t.access_token,userid:t.userid,role:t.role,email:t.email}),n.props.loginAction(n.state),n.onClickUser(String(n.props.currentUser.userid));var r=n.props.currentUser.token,a=n.state.userid;t.access_token.length>0&&h.fetchGetPostData("viewRequest","VIEW_REQUESTLIST",r,a),h.fetchGetPostData("engagement","ENGAGEMENT",r,a),h.fetchGetPostData("engagementMngerPermission","ENGAGEMENT_MNGER_PERMISSION",r,a),h.fetchGetPostData("engagementStatus","ENGAGEMENT_STATUS",r,a),h.fetchGetPostData("engagementDetail","ENGAGEMENT_DETAIL",r,a),h.fetchGetPostData("assetMngers","ASSET_MNGERS",r,a),h.fetchGetPostData("kpxPortfolioid","KPX_Portfolio_id",r,a),h.fetchGetPostData("kpxlistPortfolios","KPX_LIST_PORTFOLIO",r,a),h.fetchGetPostData("kpxLeiLegalName","KPX_LEI_LEGALNAME",r,a),h.fetchGetPostData("kpxData","KPX_DATA",r,a),h.fetchGetPostData("kpxlistRequestOverlap","KPX_LIST_REQUEST_OVERLAP",r,a),h.fetchGetPostData("urthLEIRelationship","URTH_LEI_RELATIONSHIP",r,a),h.fetchGetPostData("urth_portfolio","URTH_PORTFOLIO",r,a)}).catch(function(e){console.error(e)})},n.state={tabIndex:0,selectedId1:"1",selectedId2:"2",selectedUser:"",activeButton:"",pressedKey:"",username:"",password:"",status:"",token:null,submitted:!1,userid:"",role:"",email:""},n.handleKeyPress=n.handleKeyPress.bind(n),n.onLogout=n.onLogout.bind(n),n}return a(t,e),t.prototype.onClick=function(e){this.setState({selectedId1:e})},t.prototype.onClick2=function(e){this.setState({selectedId2:e})},t.prototype.onClickToTab0=function(){this.setState({tabIndex:0})},t.prototype.onClickUser=function(e){switch(e){case"1":this.setState({selectedUser:"3",selectedId1:"1",selectedId2:"2"});break;case"3":this.setState({selectedUser:e,selectedId1:"1",selectedId2:"2"});break;case"4":this.setState({selectedUser:e,selectedId1:"4",selectedId2:"5"});break;case"5":this.setState({selectedUser:e,selectedId1:"7",selectedId2:"8"});break;case"6":this.setState({selectedUser:"7",selectedId1:"16",selectedId2:"16"});break;case"7":this.setState({selectedUser:e,selectedId1:"16",selectedId2:"16"});break;case"8":this.setState({selectedUser:e,selectedId1:"17",selectedId2:"17"})}this.setState({activeButton:!this.state.activeButton},function(){})},t.prototype.handleKeyPress=function(e){return null!==this.props.currentUser.token&&(39===e.keyCode&&(8==this.state.tabIndex?this.setState({tabIndex:0}):this.setState({tabIndex:this.state.tabIndex+1})),37===e.keyCode&&(0===this.state.tabIndex?this.setState({tabIndex:8}):this.setState({tabIndex:this.state.tabIndex-1}))),!0},t.prototype.onLogout=function(){this.setState({status:"LoggedOut",role:null,userid:null,username:"",password:"",submitted:!1}),this.props.logoutAction()},t.prototype.componentDidUpdate=function(e){this.props.currentUser.status!==e.currentUser.status&&this.setState({status:this.props.currentUser.status})},t.prototype.componentDidMount=function(){document.addEventListener("keydown",this.handleKeyPress)},t.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.handleKeyPress)},t.prototype.render=function(){var e=this;return o.createElement("div",null,o.createElement(c.Tabs,null,o.createElement(c.TabList,null,null===this.props.currentUser.token?o.createElement(c.Tab,null,"User Login"):o.createElement(c.Tab,null,"Engage"),null!==this.props.currentUser.token&&o.createElement(c.Tab,{onClick:function(){return e.props.logoutAction()}},"Logout")),o.createElement(c.TabPanel,null,o.createElement("div",null,"LoginSuccess"!==this.state.status&&o.createElement("form",{className:"signin-form",onSubmit:this.handleLogin},o.createElement("h5",null,"Sign In"),o.createElement("div",{className:"input-field"},o.createElement("input",{type:"text",id:"username",onChange:this.handleChange,placeholder:"Username"}),this.state.submitted&&!this.state.username&&o.createElement("div",{className:"red"},"This is a required field")),o.createElement("div",{className:"input-field"},o.createElement("input",{type:"password",id:"password",onChange:this.handleChange,placeholder:"Password"}),this.state.submitted&&!this.state.password&&o.createElement("div",{className:"red"},"This is a required field")),o.createElement("div",{className:"input-field"},o.createElement("button",{className:"form"},"Login")),"LoginSuccess"!==this.state.status&&o.createElement("div",{className:"red"},this.state.status),o.createElement("h5",null,"aoes_test Last updated: 2020.11.25 11:45"))),o.createElement("div",null,"LoginSuccess"===this.state.status&&o.createElement("div",null,o.createElement("h2",null,"Welcome ",this.props.currentUser.username,"!",o.createElement(d.FontAwesomeIcon,{icon:"user-circle",style:{color:"grey",fontSize:36}})),o.createElement(u.DisplayEngageCl,null)))),"LoginSuccess"===this.state.status&&o.createElement(c.TabPanel,null,"(",o.createElement("div",null),")")),o.createElement("div",{className:"Footer"}))},t}(o.Component);t.Hello_prod=i.connect(function(e,t){return{serverMessage:e.helloWorld,currentUser:e.authReducer,fullData:e.getDataReducer,requestList:e.requestListReducer,kpxFullData:e.kpxDataReducer,demoReducer:e.demoReducer}},function(e,t){return{onClick:function(){e(s.getRoute("helloWorld",{}))},loginAction:function(t){return e(g.loginAction(t))},logoutAction:function(){return e(g.logoutAction())}}})(b)},86:function(e,t,n){(e.exports=n(20)(!1)).push([e.i,'#Infographic {\n    width: 80%;\n    margin: .5em auto;\n    padding: 1em;\n    position: relative;\n    font-family: Arial, Helvetica, sans-serif;\n    font-weight: bold;\n    background-color: #fff;\n    height: 10em;\n    margin-top: 2em\n  }\n/* #Infographic span {\n    display: none;\n} */\n.flex-container{\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n.engagement-detail{\n  border: 3px solid black;\n  justify-content: center;\n  margin: 10px;\n  padding: 15px;\n  width: 80%;\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  line-height: 30px;\n  font-size: 16px;\n}\n.engagement-detail > div{\n  width:80%;\n  display: block;\n  margin-left: auto;\n  margin-right: auto\n}\n.engagement-welcome {\n  border: 3px solid black;\n  justify-content: center;\n  margin: 10px;\n  padding: 15px;\n}\n.status-card-components > div {\n  border: 3px solid black;\n  width:80%;\n  display: block;\n  margin-left: auto;\n  margin-right: auto\n}\n.card-status-update-button {\n  border: 3px solid black;\n  width: 25%;\n  margin: 10px;\n  padding: 10px;\n  font-size: large;\n}\n.flex-container > div {\n  margin: 10px;\n  width: 45%;\n  text-align: center;\n  line-height: 75px;\n  font-size: 30px;\n}\n.flex-container-select-sector{\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n.flex-container-select-sector > div{\n  margin: 10px;\n  width: 45%;\n  text-align: center;\n}\n.flex-container-funds{\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 10px;\n}\n.circle {\n    border: .2em solid rgb(0, 0, 0);\n    /* border-radius: 50%; */\n    width: 20em;\n    height: 10em;\n    text-align: center;\n    vertical-align: center;\n    position: absolute;\n\n}\n\n.circle p {\n    height: 10em;\n    width: 20em;\n    display: table-cell;\n    vertical-align: middle;\n}\n\ndiv#c1 {\n    top: 0;\n    left: 0;\n    background-color: lightblue;\n    z-index: 1;\n}\n\ndiv#c2 {\n    top: 0;\n    left: 13em;\n    background-color: rgba(225, 241, 233, 0.795);\n    z-index: 1;\n    \n}\ndiv#c1 p {\n    padding-right: 7em;\n} \ndiv#c2 p {\n  \n    padding-left: 7em;\n} \n\ndiv#c1 :hover{\n    height:9.6em;\n    background-color: darkblue;\n    color:white;\n\n}\ndiv#c2 :hover{\n  height:9.6em;\n    background-color: lightgreen;\n    \n}\ndiv.joined {\n    position: absolute;\n    display: table-cell;\n    text-align: center;\n    height: 10em;\n    width: 8em; \n    z-index: 20;\n}\n.joined p{\n    height: 10em;\n    width: 6.7em; \n    display: table-cell;\n    vertical-align: middle;\n    \n}\n#j12 {\n    border: 0.05em solid #000;\n    height: 9.9em;\n    width: 7em; \n     margin-left: 12.2em; \n     margin-top: -0.9em;\n     z-index: 20;\n     /*background-color: lightgray; */\n    /* overflow:hidden; */\n    \n}\ndiv#j12 :hover{\n  height:9.6em;\n    background-color: yellowgreen;\n    \n}\n\n.Footer{\n  clear: both;\n  position: relative;\n  height: 200px;\n  \n  margin-top:auto; \n}\n.test{\n  background: #008CBA\n}\n\n/* buttons */\n\nbutton{\n  border-radius: 10px;\n  font-size: 16px;\n  transition-duration: 0.2s;\n  \n  width: 80px;\n  cursor: pointer;\n}\n.view-engagement-button {\n  font-size: 16px;\n  width:24%;\n  padding: 10px;\n  margin: 4px 4px;\n}\n.view-engagement-button-AM {\n  font-size: 16px;\n  width:32%;\n  padding: 10px;\n  margin: 4px 4px;\n}\nbutton.form{\n  padding: 10px;\n}\nbutton.LEI{\n  width: 190px;\n}\n.confirm-button-class{\n  width: 180px;\n}\n.cancel-button-class{\n  width: 100px;\n}\nbutton.selectPortfolioBtn{\n  width:40px;\n  border-radius: 12px;\n  font-size: 18px;\n  transition-duration: 0.2s;\n  padding: 5px;\n  text-align: center;\n  margin: 4px 4px;\n  cursor: pointer;\n  width: 100px;\n  color: darkblue;\n}\nbutton.selectPortfolioBtn:hover{\n  padding: 2px;\n  background-color: rgb(46, 22, 184);\n  color: grey;\n  border: 3px solid black;\n}\nbutton.activePortfolio{\n  border-radius: 12px;\n  font-size: 18px;\n  transition-duration: 0.2s;\n  padding: 2px;\n  text-align: center;\n  margin: 4px 4px;\n  cursor: pointer;\n  width: 100px;\n  border: 6px solid black;\n}\n\nbutton.sendBtn{\n  background-color: rgb(201, 248, 232)\n}\nbutton.sendBtn:hover{\n  font-size: 16px;\n  color: white;\n}\nbutton.icon{\n  transition-duration: 0.2s;\n  width:50px;\n}\nbutton.icon:hover{\n  background-color: rgb(217, 243, 234)\n  \n}\nbutton.disabledSendBtn{\n  pointer-events: none;\n  background-color:white;\n  color:white;\n  border:none;\n}\n\nbutton:hover{\n  background-color: rgb(31, 37, 228);\n  color: white;\n}\nbutton.active{\n  background-color: #008CBA;\n  color: white;\n}\n\n.red{\n  color:white;\n}\n.orange{\n  color:orange;\n}\nul{\n  /*\n  margin: 15px;\n  */\n  font-size: 20px;\n}\n\n.container {\n  position:relative;\n}\n\n/* tooltip */\n.tooltip {\n  position: relative;\n  display: inline-block;\n  border-bottom: 1px dotted black;\n  height: 5em;\n}\n\n.tooltip .tooltiptext {\n  visibility: hidden;\n  width: 10em;\n  height: 5em;\n  background-color: rgb(85, 83, 83);\n  color: #fff;\n  text-align: center;\n  border-radius: 6px;\n  padding: 5px 0;\n  \n  /* Position the tooltip */\n  position: absolute;\n  z-index: 30;\n}\n.tooltip:hover .tooltiptext {\n  visibility: visible;\n  height: 5em;\n}\n\n.hidden{\n  display:none;\n}\n\n/* Table */\n.table{\n    border: 0.1px solid black;\n    border-collapse: collapse;\n    padding: 5px;\n    background-color: rgb(232, 244, 248);\n    font-family: Arial, Helvetica, sans-serif;\n    \n}\n.table th{\n  text-align: center;\n}\n.table tbody{\n  text-align: center;\n}\n\n/* Forms */\n.signin-form, .want-to-buy-form{\n  font-family: \'Open Sans Condensed\', arial, sans;\n\twidth: 70%;\n\tpadding: 50px;\n\tbackground: #FFFFFF;\n\tmargin: 50px auto;\n\tbox-shadow: 0px 0px 15px rgba(0, 0, 0, 0.22);\n\t-moz-box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.22);\n\t-webkit-box-shadow:  0px 0px 15px rgba(0, 0, 0, 0.22);\n}\n.signin-form input[type="text"],\n.signin-form input[type="password"],\n.createRequest-form input[type="text"],\n.createRequest-form input[type="number"],\n.createRequest-form input[type="date"],\n.want-to-buy-form >p input[type="text"]\n{\n\tbox-sizing: border-box;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\toutline: none;\n\tdisplay: block;\n\twidth: 100%;\n\tpadding: 5px;\n\tborder: none;\n\tborder-bottom: 1px solid #ddd;\n\tbackground: transparent;\n\tmargin-bottom: 10px;\n\tfont: 16px Arial, Helvetica, sans-serif;\n\theight: 30px;\n}\n.createRequest-form{\n  font-family: \'Open Sans Condensed\', arial, sans;\n\twidth: 70%;\n\tpadding: 30px;\n\tbackground: #FFFFFF;\n  margin: 50px auto;\n\tbox-shadow: 0px 0px 15px rgba(0, 0, 0, 0.22);\n\t-moz-box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.22);\n\t-webkit-box-shadow:  0px 0px 15px rgba(0, 0, 0, 0.22);\n}\n\n/* Collapsible */\n.Collapsible{\n  background: rgb(241, 245, 247) ;\n  font-size: 16px;\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n\n.Collapsible__contentInner {\n  padding: 10px;\n  border: 1px solid \'lightGrey\';\n  border-top: 0;\n}\n.Collapsible__contentInner p {\n  margin-bottom: 10px;\n  font-size: 14px;\n  line-height: 20px;\n}\n.Collapsible__contentInner p:last-child {\n  margin-bottom: 0;\n}\n.Collapsible__trigger {\n  display: block;\n  font-weight: 800;\n  text-decoration: none;\n  color: \'grey\';\n  position: relative;\n  border: 1px solid white;\n  padding: 10px;\n  background: skyblue;\n  color: black;\n}\n.Collapsible__trigger:after {\n  font-family: \'FontAwesome\';\n  content: \'\\f107\';\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  display: block;\n  transition: transform 150ms;\n}\n.Collapsible__trigger.is-open:after {\n  transform: rotateZ(180deg);\n}\n.Collapsible__trigger.is-disabled {\n  opacity: 0.5;\n  background-color: grey;\n}\n.CustomTriggerCSS {\n  background-color: lightcoral;\n  transition: background-color 200ms ease;\n}\n.CustomTriggerCSS--open {\n  background-color: darkslateblue;\n}\n.Collapsible__custom-sibling {\n  padding: 5px;\n  font-size: 12px;\n  background-color: #cbb700;\n  color: black;\n}\n/* select */\n.custom-select {\n  position: relative;\n  font-family: Arial;\n}\n\n.custom-select select {\n  display: none; /*hide original SELECT element: */\n}\n\n.select-selected {\n  background-color: rgb(200, 221, 243);\n}\n\n/* Style the arrow inside the select element: */\n.select-selected:after {\n  position: absolute;\n  content: "";\n  top: 14px;\n  right: 10px;\n  width: 0;\n  height: 0;\n  border: 6px solid transparent;\n  border-color: #fff transparent transparent transparent;\n}\n\n/* Point the arrow upwards when the select box is open (active): */\n.select-selected.select-arrow-active:after {\n  border-color: transparent transparent #fff transparent;\n  top: 7px;\n}\n\n/* style the items (options), including the selected item: */\n.select-items div,.select-selected {\n  color: #ffffff;\n  padding: 8px 16px;\n  border: 1px solid transparent;\n  border-color: transparent transparent rgba(0, 0, 0, 0.1) transparent;\n  cursor: pointer;\n}\n\n/* Style items (options): */\n.select-items {\n  position: absolute;\n  background-color: DodgerBlue;\n  top: 100%;\n  left: 0;\n  right: 0;\n  z-index: 99;\n}\n\n/* Hide the items when the select box is closed: */\n.select-hide {\n  display: none;\n}\n\n.select-items div:hover, .same-as-selected {\n  background-color: rgba(0, 0, 0, 0.1);\n}\n/* mnger-checkbox */\n\n.container-checkbox-checkall, .mnger-checkbox{\n  display: block;\n  position: relative;\n  margin-bottom: 6px;\n  cursor: pointer;\n  font-size: 22px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n/* Hide the browser\'s default checkbox */\n.container-checkbox-checkall input {\n  position: absolute;\n  opacity: 0;\n  cursor: pointer;\n  height: 0;\n  width: 0;\n}\n/* Create a custom checkbox */\n.checkmark {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 25px;\n  width: 25px;\n  padding-left: 10px;\n  \n}\n\n\n\n\n/* Create the checkmark/indicator (hidden when not checked) */\n.container-checkbox-checkall:after {\n  content: "";\n  position: absolute;\n  display: none;\n}\n\n/* Show the checkmark when checked */\n.container-checkbox-checkall input:checked ~ .checkmark:after {\n  display: block;\n}\n\n/* Style the checkmark/indicator */\n.container-checkbox-checkall .checkmark:after {\n  left: 9px;\n  top: 5px;\n  width: 5px;\n  height: 10px;\n  border: solid white;\n  border-width: 0 3px 3px 0;\n\n}\n\nul {\n  padding: 5px;\n}\n\n\nul li {\n  background: #cce5ff;\n  margin: 5px;\n}\n.mnger-checkbox-list{\n  background: white;\n}\n.mnger-checkbox-list > label{\n  color:black\n}\n\n/* @media only screen and (max-width: 768px) {\n  \n  body {\n    margin: 0 18px;\n  }\n  \n  .signin-form {\n    background: #f9faff;\n    border: none;\n    width: 95%;\n    box-shadow: none;\n    padding: 20px 0;\n  }\n  .input-field{\n    width: 95%;\n    background-color: lightblue;\n  }\n\n}\n@media only screen and (max-width: 600px) {\n  .signin-form {\n    background-color: lightblue;\n  }\n} */',""])},89:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(14),s=n(24);n(18);var c=n(90),l=n(92),u=n(32),d=n(143),p=[{Header:"Status",accessor:"status"},{Header:"Company",accessor:"Company"},{Header:"LEI",accessor:"LEI"},{Header:"Ultimate Parent LEI",accessor:"ultiParentLEI"},{Header:"Types of Engagement",accessor:"type"},{Header:"Title",accessor:"Title"},{Header:"Start Time",accessor:"start"},{Header:"Due",accessor:"due"},{Header:"View Detail",accessor:"detail"},{Header:"owner_id",accessor:"owner_id"}],m=[{EngagementId:"1",Company:"Volkswagen",status:"active",type:"Financial",Title:"coupon for bonds due 2035",start:"June 18, 2020",due:"June 30, 2020"},{EngagementId:"2",Company:"Volkswagen",status:"active",type:"Financial",Title:"annual carbon emission growth",start:"June 18, 2020",due:"June 20, 2020"},{EngagementId:"3",Company:"Volkswagen",status:"Closed",type:"Financial",Title:"coupon for bonds due 2025",start:"May 18, 2020",due:"May 25, 2020"}],g=function(e){function t(t){var n=e.call(this,t)||this;return n.setCurrentview=function(e){n.setState({currentView:e.target.id})},n.state={selectedEngagement:"0",currentView:"home"},n}return a(t,e),t.prototype.onclickButton=function(e){this.setState({selectedEngagement:e})},t.prototype.createData=function(e){for(var t=this,n=[],r=function(r){n.push({EngagementId:e[r].EngagementId,Company:e[r].Company,type:e[r].type,status:e[r].status,Title:e[r].Title,start:e[r].start,due:e[r].due,detail:o.createElement("button",{onClick:function(){return t.onclickButton(e[r].EngagementId)}},"Detail"),owner_id:e[r].owner_id})},a=0;a<e.length;a++)r(a);return n},t.prototype.createData_temp=function(e){for(var t=this,n=[],r=function(r){n.push({EngagementId:e[r][6],Company:e[r][1],type:e[r][2],status:e[r][0],Title:e[r][3],start:e[r][4],due:e[r][5],owner_id:e[r][7],detail:o.createElement("button",{onClick:function(){return t.onclickButton(e[r][6])}},"Detail"),LEI:e[r][8],ultiParentLEI:e[r][9],updatePermission:o.createElement("button",null,"update")})},a=0;a<e.length;a++)r(a);return n},t.prototype.render=function(){var e=this.props.engagement?this.createData_temp(this.props.engagement):this.createData(m),t=this.props.assetMngers&&this.props.assetMngers.map(function(e){return e[0]}).includes(this.props.currentUser.userid);return o.createElement("div",null,e&&(t?o.createElement("div",null,o.createElement("button",{className:"view-engagement-button-AM",id:"home",onClick:this.setCurrentview},"Home"),o.createElement("button",{className:"view-engagement-button-AM",id:"View",onClick:this.setCurrentview},"My Engagements"),o.createElement("button",{className:"view-engagement-button-AM",id:"my_companies",onClick:this.setCurrentview},"View My Companies"),"View"==this.state.currentView?o.createElement("div",null,o.createElement(s.default,{columns:p,data:e,filterable:!0,defaultFilterMethod:u.filterCaseInsensitive,defaultSorted:[{id:"start",desc:!0}],showPageSizeOptions:!0,pageSizeOptions:[5,10,20,25,50,100]})):"new"==this.state.currentView?o.createElement(c.DisplayNewEngagementFormCl,null):"home"==this.state.currentView?o.createElement("div",{className:"engagement-welcome"},o.createElement("h2",null,'Welcome to "I want to Engage"'),o.createElement("h3",null,"My Engagements : to view Engagements "),o.createElement("h3",null,"Add New Engagement : to initiate new engagements "),o.createElement("h3",null,"View My Companies : to view engagements statistics per company ")):o.createElement("div",null,o.createElement(d.DisplayMyCompaniesCl,null)),"View"==this.state.currentView&&"0"!=this.state.selectedEngagement&&o.createElement(l.DisplayViewEngagementDetailCl,{engagementId:this.state.selectedEngagement,data:e})):o.createElement("div",null,o.createElement("button",{className:"view-engagement-button",id:"home",onClick:this.setCurrentview},"Home"),o.createElement("button",{className:"view-engagement-button",id:"View",onClick:this.setCurrentview},"My Engagements"),o.createElement("button",{className:"view-engagement-button",id:"new",onClick:this.setCurrentview},"Add New Engagement"),o.createElement("button",{className:"view-engagement-button",id:"my_companies",onClick:this.setCurrentview},"View My Companies"),"View"==this.state.currentView?o.createElement("div",null,o.createElement(s.default,{columns:p,data:e,filterable:!0,defaultFilterMethod:u.filterCaseInsensitive,defaultSorted:[{id:"start",desc:!0}]})):"new"==this.state.currentView?o.createElement(c.DisplayNewEngagementFormCl,null):"home"==this.state.currentView?o.createElement("div",{className:"engagement-welcome"},o.createElement("h2",null,'Welcome to "I want to Engage"'),o.createElement("h3",null,"My Engagements : to view Engagements "),o.createElement("h3",null,"Add New Engagement : to initiate new engagements "),o.createElement("h3",null,"View My Companies : to view engagements statistics per company ")):o.createElement("div",null,o.createElement(d.DisplayMyCompaniesCl,null)),"View"==this.state.currentView&&"0"!=this.state.selectedEngagement&&o.createElement(l.DisplayViewEngagementDetailCl,{engagementId:this.state.selectedEngagement,data:e}))))},t}(o.Component);t.DisplayEngageCl=i.connect(function(e,t){return{engagement:e.demoReducer.engagement,demoReducer:e.demoReducer,currentUser:e.authReducer,assetMngers:e.demoReducer.assetMngers}},{})(g)},90:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(14),c=n(12),l=n(151),u=n(31);n(30);var d=(new Date).toISOString().substr(0,10),p=function(e,t,n){return n.indexOf(e)===t},m=[{label:"All Asset Owners",value:1},{label:"AM managing this portfolio",value:2},{label:"AMs I trust",value:3},{label:"other AMs",value:4}],g=[{value:"Financial",label:"Financial"},{value:"Environmental",label:"Environmental"},{value:"Governmental",label:"Governmental"},{value:"Social",label:"Social"},{value:"Others",label:"Others"}],h=function(e){return i.createElement("li",{className:"mnger-checkbox-list"},i.createElement("label",{className:"container-checkbox-checkall"},i.createElement("input",{className:"mnger-checkbox",key:e.id,onChange:e.handleCheckChildElement,type:"checkbox",checked:e.isChecked,value:e.value})," ",i.createElement("span",{className:"checkmark"}),e.label))},f=function(e){function t(t){var n=e.call(this,t)||this;return n.onChange=function(e){var t;n.setState(((t={})[e.target.id]=e.target.value,t))},n.handleSelectPortfolio=function(e){n.setState({portfolio_id:e.value})},n.updateMngerGroups=function(){for(var e=n.props.data.filter(function(e){return e[2]==n.state.ISIN&&e[8]==n.props.currentUser.userid}).map(function(e){return e[5]}).filter(function(e,t,n){return n.indexOf(e)===t}),t=[],r=function(r){var a=n.props.assetMngers.filter(function(t){return t[0]==e[r]}),o={groupId:1,id:10+r,rolename:1,value:a[0][1],isChecked:!1,mngerid:a[0][0]};t.push(o)},a=0;a<e.length;a++)r(a);var o=n.props.viewPortfolio.map(function(e){return Number(e[2])}).filter(p),i=o.filter(function(t){return!e.includes(t)}),s=function(e){var r=n.props.assetMngers.filter(function(t){return t[0]==i[e]}),a={groupId:2,id:50+e,rolename:1,value:r[0][1],isChecked:!1,mngerid:r[0][0]};t.push(a)};for(a=0;a<i.length;a++)s(a);var c=n.props.assetMngers.map(function(e){return e[0]}).filter(function(e){return!o.includes(e)}),l=function(e){var r=n.props.assetMngers.filter(function(t){return t[0]==c[e]}),a={groupId:3,id:100+e,rolename:1,value:r[0][1],isChecked:!1,mngerid:r[0][0]};t.push(a)};for(a=0;a<c.length;a++)l(a);n.setState({fruites:t})},n.handleSelectcompanyName=function(e){n.setState({company:e.label,LEI:e.value,ISIN:e.ISIN},n.updateMngerGroups)},n.handleSelectType=function(e){n.setState({type:e.label})},n.onChange_share_with=function(e){n.setState({share_with_values:e})},n.onChange_share_with_person=function(e){n.setState({share_with_person:e})},n.handleAllChecked=function(e){return function(t){var r=n.state.fruites;r.filter(function(t){return t.groupId===e}).forEach(function(e){e.isChecked=t.target.checked}),n.setState({fruites:r})}},n.handleCheckChildElement=function(e){var t=n.state.fruites;t.forEach(function(t){t.groupId+"-"+t.id===e.target.value&&(t.isChecked=e.target.checked)}),n.setState({fruites:t});for(var r=[],a=0;a<t.length;a++)1==t[a].isChecked&&r.push({value:t[a].mngerid});n.setState({share_with_person:r})},n.handleSubmit=function(e){if(e.preventDefault(),n.setState({submitted:!0}),n.state.company&&n.state.type&&n.state.title&&n.state.due){var t=c.server+"submitNewEngagement",r={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+n.props.currentUser.token},body:JSON.stringify({engagement_id:"engagement_id",company:n.state.company,type:n.state.type,title:n.state.title,due:n.state.due,userid:n.props.currentUser.userid,share_with:n.state.share_with_values,LEI:n.state.LEI,share_with_person:n.state.share_with_person})};fetch(t,r).then(function(e){return e.text()}).then(function(e){var t=JSON.parse(e);n.setState({responseStatus:"Submit Success"}),void 0!==t&&n.props.newEngagementAction(t)}).catch(function(e){return console.error("Error:",e)})}},n.state={company:"",LEI:"",type:"Financial",title:"",due:d,submitted:!1,responseStatus:"",share_with_values:[m[0]],share_with_person:null,portfolio_id:"",ISIN:"",fruites:[]},n}return a(t,e),t.prototype.createPortfolioOptions=function(){for(var e=this.props.viewPortfolio?this.props.viewPortfolio:null,t=e?e.length:null,n=[],r=0;r<t;r++)n.push({value:e[r][0],label:e[r][1]});return n},t.prototype.createCompanyOptions=function(){for(var e=this.props.data,t=[],n=0;n<e.length;n++)t.push({value:e[n][1],label:e[n][3],ISIN:e[n][2]});t.filter(p);return t},t.prototype.createShare_with_person_options=function(){for(var e=[],t=this.props.assetMngers,n=0;n<t.length;n++)e.push({value:t[n][0],label:t[n][1]});return e},t.prototype.render=function(){var e=this;return i.createElement("form",{className:"want-to-buy-form",onSubmit:this.handleSubmit},i.createElement("span",null,"Company Name:",i.createElement(l.default,{id:"companyName",value:{label:this.state.company,value:this.state.LEI,ISIN:this.state.ISIN},options:this.props.LEIdata&&this.createCompanyOptions(),onChange:this.handleSelectcompanyName})),this.state.submitted&&!this.state.company&&i.createElement("div",{className:"red"},"Please insert Company Name"),i.createElement("br",null),i.createElement("span",null,"Engagement Type:",i.createElement(l.default,{id:"type",value:{label:this.state.type,value:this.state.type},options:g,onChange:this.handleSelectType})),this.state.submitted&&!this.state.type&&i.createElement("div",{className:"red"},"Please insert Engagement Type"),i.createElement("br",null),i.createElement("br",null),i.createElement("span",null,"Engagement Title:",i.createElement("input",{type:"text",id:"title",onChange:this.onChange})),this.state.submitted&&!this.state.title&&i.createElement("div",{className:"red"},"Please insert Engagement Title"),i.createElement("br",null),i.createElement("br",null),i.createElement("span",null,"Due date:",i.createElement("input",{type:"due",id:"due",defaultValue:d,onChange:this.onChange})),this.state.submitted&&!this.state.due&&i.createElement("div",{className:"red"},"Please insert due date"),i.createElement("br",null),"Share with Managers:",[{id:1,name:"AMs managing my portfolios WITH this company"},{id:2,name:" AMs managing my portfolios WITHOUT this company"},{id:3,name:"Other AMs"}].map(function(t){return i.createElement("div",null,i.createElement("label",{className:"container-checkbox-checkall"},i.createElement("input",{type:"checkbox",onChange:e.handleAllChecked(t.id),value:"checkedall"})," ",i.createElement("span",{className:"checkmark"}),t.name),i.createElement("ul",null,e.state.fruites.filter(function(e){return e.groupId===t.id}).map(function(n,r){return i.createElement(h,o({className:"mnger-checkbox",key:t.id+"-"+n.id,handleCheckChildElement:e.handleCheckChildElement},n,{value:t.id+"-"+n.id,label:n.value}))})))}),i.createElement("span",null,this.state.responseStatus),i.createElement("div",{className:"input-field"},i.createElement("button",{className:"form"},"Submit")))},t}(i.Component);t.DisplayNewEngagementForm=f;t.DisplayNewEngagementFormCl=s.connect(function(e){return{viewPortfolio:e.kpxDataReducer.kpxPortfolioid,currentUser:e.authReducer,LEIdata:e.kpxDataReducer.kpxLEILegalName,data:e.kpxDataReducer.kpxListPortfolio,assetMngers:e.demoReducer.assetMngers}},function(e,t){return{newEngagementAction:function(t){return e(u.newEngagementAction(t))}}})(f)},92:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(14),s=n(24);n(18);var c=n(32),l=n(12),u=n(31),d=n(93),p=n(56);n(141);var m=[{Header:"username",accessor:"username"},{Header:"message",accessor:"message"},{Header:"submitted time",accessor:"time"}],g=function(e){function t(t){var n=e.call(this,t)||this;return n.onChange=function(e){var t;n.setState(((t={})[e.target.id]=e.target.value,t))},n.handleSubmit=function(e){if(e.preventDefault(),n.setState({submitted:!0}),n.state.message){var t=l.server+"submitEngagementDetailMessage",r={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+n.props.currentUser.token},body:JSON.stringify({message:n.state.message,engagement_id:n.props.engagementId,userid:n.props.currentUser.userid})};fetch(t,r).then(function(e){return e.text()}).then(function(e){var t=JSON.parse(e);if(n.setState({responseStatus:"Submit Success"}),void 0!==t.now){var r=[t.engagement_id,t.username,t.message,t.now];n.props.engagementAction(r)}}).catch(function(e){return console.error("Error:",e)})}},n.state={submitted:!1,message:"",responseStatus:""},n}return a(t,e),t.prototype.createFilteredDetails=function(e){for(var t=[],n=0;n<e.length;n++)t.push({engagement_id:e[n][0],username:e[n][1],message:e[n][2],time:e[n][3]});return t},t.prototype.getAMname=function(e){for(var t=" ",n=function(n){t+=r.props.assetMngers.filter(function(t){return t[0]==e[n]})[0][1]+"; "},r=this,a=0;a<e.length;a++)n(a);return 0==e.length&&(t=" None"),t},t.prototype.render=function(){var e=this,t=this.props.data&&this.props.data.filter(function(t){return t.EngagementId==e.props.engagementId})[0],n=this.props.engagement_detail.filter(function(t){return t[0]==e.props.engagementId}),r=n&&this.createFilteredDetails(n),a=this.props.engagementMngerPermission.filter(function(t){return t[0]==e.props.engagementId}).map(function(e){return e[1]}),i=this.getAMname(a);return o.createElement("div",null,o.createElement(p.Tabs,null,o.createElement(p.TabList,null,o.createElement(p.Tab,null,"Engagement Status"),o.createElement(p.Tab,null,"Chat room")),o.createElement(p.TabPanel,null,void 0!=t?o.createElement("div",null,o.createElement(d.default,{selectedEngagement:t})):o.createElement("div",null,o.createElement("h3",null,"No Status available, Please select another engagement"))),o.createElement(p.TabPanel,null,void 0!=t?o.createElement("div",{className:"engagement-detail"},"company=",t.Company,o.createElement("br",null),"type=",t.type,o.createElement("br",null),"Title=",t.Title,o.createElement("br",null),"Asset Managers Permitted=",i,o.createElement("div",null,o.createElement(s.default,{columns:m,data:r,filterable:!0,defaultFilterMethod:c.filterCaseInsensitive,defaultSorted:[{id:"time",desc:!0}]})),o.createElement("div",null,o.createElement("br",null),o.createElement("form",{onSubmit:this.handleSubmit},"My Message:",o.createElement("input",{type:"text",id:"message",onChange:this.onChange}),o.createElement("button",null,"Submit")))):o.createElement("div",null,o.createElement("h3",null,"No details available, Please select another engagement")))))},t}(o.Component);t.DisplayViewEngagementDetail=g;t.DisplayViewEngagementDetailCl=i.connect(function(e){return{engagement_detail:e.demoReducer.engagement_detail,engagementMngerPermission:e.demoReducer.engagementMngerPermission,currentUser:e.authReducer,assetMngers:e.demoReducer.assetMngers}},function(e,t){return{engagementAction:function(t){return e(u.engagementAction(t))}}})(g)},93:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(14),s=n(94),c=n(12),l=n(137);n(138),n(140);var u=n(31);n(18),n(30);var d=[],p=function(e){function t(t){var n=e.call(this,t)||this;return n.onChange=function(e){var t;n.setState(((t={})[e.target.id]=e.target.value,t))},n.handleSubmit=function(e){var t;if(e.preventDefault(),n.state.corpResponse&&n.state.objective&&n.state.tactic&&n.state.rating&&n.state.strategy){n.setState({submitted:!0}),t={name:n.props.selectedEngagement.Company,objective:n.state.objective,strategy:n.state.strategy,tactic:n.state.tactic,corpResponse:n.state.corpResponse,ratingForResponse:n.state.rating,engagement_id:n.props.selectedEngagement.EngagementId,updatedTime:"2020-09-15"},n.setState(function(e){return{status:[t].concat(e.status)}});var r=c.server+"submitEngagementStatusCard",a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+n.props.currentUser.token},body:JSON.stringify({userid:n.props.currentUser.userid,engagement_id:n.props.selectedEngagement.EngagementId,objective:n.state.objective,strategy:n.state.strategy,tactic:n.state.tactic,corpResponse:n.state.corpResponse,ratingForResponse:n.state.rating})};fetch(r,a).then(function(e){return e.text()}).then(function(e){var t=JSON.parse(e);if(void 0!==t.now){var r=[n.props.currentUser.userid,n.props.selectedEngagement.EngagementId,n.state.objective,n.state.strategy,n.state.tactic,n.state.corpResponse,n.state.rating,t.now];n.props.engagementStatusAction(r),n.setState({failedMsg:" Create request SUCCESS"})}else n.setState({failedMsg:" Submission FAILED, please check connection"})}).catch(function(e){return console.error("Error:",e)})}else n.setState({failedMsg:" Submission FAILED, please fill in the blanks"})},n.createCardComponent=function(e,t){for(var n=[],r=e.filter(function(e){return e[1]==t.EngagementId}),a=0;a<r.length;a++)n.push({count:r.length-a,engagement_id:r[a][1],name:t.Company,objective:r[a][2],strategy:r[a][3],tactic:r[a][4],corpResponse:r[a][5],ratingForResponse:r[a][6],updatedTime:r[a][7]});return n},n.state={status:d,submitted:!1,objective:"",strategy:"",tactic:"",corpResponse:null,rating:"",failedMsg:""},n}return a(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this.props.engagementStatus&&this.createCardComponent(this.props.engagementStatus,this.props.selectedEngagement);this.props.selectedEngagement!==e.selectedEngagement&&this.setState({status:n}),this.props.engagementStatus!==e.engagementStatus&&this.setState({status:n})},t.prototype.componentDidMount=function(){var e=this.props.engagementStatus&&this.createCardComponent(this.props.engagementStatus,this.props.selectedEngagement);this.setState({status:e})},t.prototype.render=function(){var e=this.props.selectedEngagement.owner_id==this.props.currentUser.userid;return o.createElement("div",null,void 0!=this.state.status&&o.createElement("div",{className:"status-card-components"},e&&o.createElement("div",null,o.createElement(l.default,{trigger:o.createElement("p",null,"New status update")},o.createElement("br",null),o.createElement("form",{onSubmit:this.handleSubmit},"objective:",o.createElement("input",{type:"text",id:"objective",onChange:this.onChange}),"strategy:",o.createElement("br",null),o.createElement("input",{type:"text",id:"strategy",onChange:this.onChange}),"tactic:",o.createElement("br",null),o.createElement("input",{type:"text",id:"tactic",onChange:this.onChange}),"corp response:",o.createElement("br",null),o.createElement("input",{type:"text",id:"corpResponse",onChange:this.onChange}),"rate:",o.createElement("br",null),o.createElement("input",{type:"number",id:"rating",onChange:this.onChange}),o.createElement("br",null),o.createElement("button",null,"Submit  "),this.state.failedMsg))),o.createElement(s.Row,null,o.createElement(s.Col,{m:12},this.state.status.map(function(e){return o.createElement(s.Card,{className:"blue-grey darken-1 ",closeIcon:o.createElement(s.Icon,null,"close"),revealIcon:o.createElement(s.Icon,null,"more_vert"),textClassName:"white-text",title:e.name},o.createElement("h3",null,"Stage #",e.count),o.createElement("h4",null,"objective : ",e.objective),o.createElement("h4",null,"strategy : ",e.strategy),o.createElement("h4",null,"tactic : ",e.tactic),o.createElement("h4",null,"corp response: ",e.corpResponse),o.createElement("h4",null,"rating for the response: ",e.ratingForResponse),o.createElement("h4",null,"time status updated: ",e.updatedTime))}),0==this.state.status.length&&e&&o.createElement("h3",null,"No status yet! Please add new status!"),0==this.state.status.length&&!e&&o.createElement("h3",null,"No status yet! ")))))},t}(o.Component);t.DisplayEngagementStatusCard=p;t.default=i.connect(function(e){return{currentUser:e.authReducer,engagementStatus:e.demoReducer.engagementStatus,assetMngers:e.demoReducer.assetMngers}},function(e,t){return{engagementStatusAction:function(t){return e(u.engagementStatusAction(t))}}})(p)}});